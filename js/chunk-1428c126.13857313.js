(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1428c126"],{"062f":function(t,e,i){},"1e75":function(t,e,i){},"2c56":function(t,e,i){},3871:function(t,e,i){"use strict";i("062f")},"4b02":function(t,e,i){"use strict";i("2c56")},"5ffb":function(t,e,i){"use strict";i("cca0")},"97d9":function(t,e,i){"use strict";i("e4e3")},"9cb1":function(t,e,i){"use strict";i("1e75")},cca0:function(t,e,i){},cd54:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-container"},[i("router-link",{attrs:{to:{name:"Search"}}},[i("div",{staticClass:"search-btn"},[i("van-icon",{attrs:{name:"search"}}),i("div",{staticClass:"place"},[t._v("山楂特价1元1斤")])],1)]),i("OneTab"),t.loading?i("van-loading",{attrs:{size:"2rem",vertical:!0}}):[i("SideBar"),i("GoodsList")]],2)},n=[],c=i("5530"),o=i("2f62"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"oneTab",staticClass:"one-tab-container"},t._l(t.menuList,(function(e,s){return i("div",{key:e.title,staticClass:"tab-item ",class:{active:s===t.index},on:{touchend:function(e){return t.scrollTo(s)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[i("div",{staticClass:"img-wrapper"},[i("img",{attrs:{src:e.imgURL}})]),i("div",{staticClass:"tab-title"},[t._v(t._s(e.title))])])})),0)},r=[],u={name:"OneTab",data:function(){return{dis:0,move:!1,index:0,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["getSideList"])),Object(o["d"])(["resetGoodList"])),{},{scrollTo:function(t){if(!this.move){this.index=t;var e=this.$refs.oneTab,i=e.children[t],s=e.offsetWidth,n=e.scrollLeft,c=i.offsetWidth,o=i.getBoundingClientRect().left,a=o-s/2+c/2;e.scrollTo({top:0,left:n+a,behavior:"smooth"}),this.resetGoodList(),this.getSideList(this.menuList[t].title)}}}),created:function(){this.getSideList(this.menuList[0].title)}},l=u,d=(i("3871"),i("2877")),g=Object(d["a"])(l,a,r,!1,null,"23c95abc",null),h=g.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"sideBar",staticClass:"sidebar-container"},t._l(t.sideList,(function(e,s){return i("div",{key:e,staticClass:"side-item",class:{active:s===t.index},on:{touchend:function(e){return t.scrollTo(s)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[t._v(t._s(0===s?"全部":e)+" ")])})),0)},p=[],f={name:"SideBar",data:function(){return{index:0,move:!1,type:null}},computed:Object(c["a"])({},Object(o["e"])(["sideList","isFinished"])),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["getGoodList"])),Object(o["d"])(["resetGoodList","setIsFinished"])),{},{scrollTo:function(t){if(!this.move){this.index=t;var e=this.$refs.sideBar,i=e.children[t],s=e.scrollTop,n=e.offsetHeight,c=i.offsetHeight,o=i.getBoundingClientRect().top-e.getBoundingClientRect().top,a=o-n/2+c/2;console.log(s,o,n/2,c/2,a),e.scrollTo({top:s+a,left:0,behavior:"smooth"}),this.resetGoodList(),this.setIsFinished(!this.isFinished),console.log(this.sideList[t]),this.getGoodList({type:this.sideList[t],page:1,sort:"all"})}}}),mounted:function(){this.resetGoodList(),this.getGoodList({type:this.sideList[0],page:1,sort:"all"})}},b=f,v=(i("97d9"),Object(d["a"])(b,m,p,!1,null,"524ba7c7",null)),j=v.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-list-container"},[i("div",{staticClass:"list-header van-hairline--top-bottom"},[i("div",{class:{active:"all"===t.type},on:{touchend:function(e){return t.changeType("all")}}},[t._v("综合")]),i("div",{class:{active:"sale"===t.type},on:{touchend:function(e){return t.changeType("sale")}}},[t._v("销量")]),i("div",{staticClass:"price",class:{"price-up":"price-up"===t.type,"price-down":"price-down"===t.type},on:{touchend:function(e){return t.changeType("price")}}},[t._v(" 价格 ")])]),i("div",{ref:"content",staticClass:"list-content content"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodList,(function(e){return i("GoodsCard",t._b({key:e.id,attrs:{num:t.counterMap[e.id]}},"GoodsCard",e,!1))})),1)],1)],1)])},L=[],C=i("1da1"),k=(i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-card-container van-hairline--bottom"},[i("div",{staticClass:"card-img"},[i("img",{ref:"img",attrs:{src:t.images[0]}})]),i("div",{staticClass:"card-content"},[i("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),i("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),i("div",{staticClass:"tags"},t._l(t.tags,(function(e){return i("div",{key:e},[t._v(t._s(e))])})),0),i("div",{staticClass:"counter-container"},[i("div",{staticClass:"prices"},[t._v("¥"+t._s(t.price))]),i("div",{staticClass:"counter"},[t.num?i("div",{on:{touchend:function(e){return t.counter(t.id,-1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png"}})]):t._e(),t.num?i("div",{staticClass:"num"},[t._v(t._s(t.num))]):t._e(),i("div",{on:{touchend:function(e){return t.counter(t.id,1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png"}})])])])])])}),O=[],_=i("ed08"),R={name:"GoodsCard",props:["images","tags","title","price","desc","id","num"],methods:Object(c["a"])(Object(c["a"])({},Object(o["d"])(["changeCounterStorage"])),{},{counter:function(t,e){if(console.log(t,e),this.changeCounterStorage({id:t,value:e}),-1!==e){console.log("animate");var i=this.$refs.img,s=i.getBoundingClientRect(),n=s.left,c=s.top,o=i.offsetWidth,a=i.offsetHeight,r=document.querySelector("#cart"),u=r.getBoundingClientRect(),l=u.left,d=u.top,g=r.offsetWidth,h=r.offsetHeight,m=l+g/2,p=d+h/2;Object(_["a"])({startX:n,startY:c,endX:m,endY:p,src:i.src,width:o,height:a})}}})},U=R,w=(i("4b02"),Object(d["a"])(U,k,O,!1,null,"c013380c",null)),G=w.exports,T={name:"GoodList",components:{GoodsCard:G},data:function(){return{type:"all",refreshing:!1,loading:!1,finished:!1,page:1}},computed:Object(c["a"])({},Object(o["e"])(["goodList","isFinished","counterMap"])),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["d"])(["resetGoodList","setGoodList"])),Object(o["b"])(["getGoodList"])),{},{changeType:function(t){"all"===t?this.type="all":"sale"===t?this.type="sale":"price-up"===this.type?this.type="price-down":this.type="price-up",this.onRefresh("refresh")},onRefresh:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.refreshing=!0,t.resetGoodList(),t.finished=!1,t.onLoad("refresh");case 4:case"end":return e.stop()}}),e)})))()},onLoad:function(t){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.finished=!1,e.page+=1,"refresh"===t&&(e.page=1),e.loading=!0,i.next=6,e.getGoodList({page:e.page,sort:e.type});case 6:s=i.sent,e.loading=!1,e.refreshing=!1,console.log("hasMoreData",s),s||(e.finished=!0);case 11:case"end":return i.stop()}}),i)})))()}}),watch:{isFinished:function(){console.log("reset fini--------------------------"),this.finished=!1,this.loading=!1,this.refreshing=!1,this.page=1}},mounted:function(){},activated:function(){var t=this.$route.meta.scrollTop,e=document.querySelector(".content");t&&e&&e.scrollTo({top:t})}},x=T,S=(i("5ffb"),Object(d["a"])(x,y,L,!1,null,"06bead6e",null)),B=S.exports,$={name:"Classify",components:{OneTab:h,SideBar:j,GoodsList:B},computed:Object(c["a"])({},Object(o["e"])(["loading"]))},F=$,E=(i("9cb1"),Object(d["a"])(F,s,n,!1,null,"0351605a",null));e["default"]=E.exports},e4e3:function(t,e,i){}}]);